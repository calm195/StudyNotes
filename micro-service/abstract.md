# 微服务

微服务是一种架构风格，它将应用程序构建为一组小的、独立的服务，每个服务运行在其独立的进程中，并通过轻量级的通信机制（通常是HTTP或消息队列）进行交互。每个微服务都围绕特定的业务功能构建，能够独立部署和扩展。

## 单体系统

单体系统是指将所有功能模块都集中在一个应用程序中进行开发和部署的架构模式。在单体系统中，所有的代码、数据和资源都在一个代码库中管理，通常通过一个单一的部署包进行发布。

- 优点
  - 简易性：系统语言风格、业务结构、接口格式具有一致性，便于开发和维护。
  - 便于测试：单体应用可以通过集成测试来验证整个系统的功能。
  - 部署简单：只需部署一个应用程序包，减少了部署的复杂
  - 容易升级：更新一个单体应用通常只需要替换整个应用包。
  - 维护成本低：由于所有代码都在一个地方，维护和调试相对简单。
- 缺点
  - 复杂性：随着系统的不断发展，单体应用的代码库会变得越来越庞大，导致理解和维护变得困难。
  - 可扩展性差：单体应用的扩展往往需要对整个应用进行修改，难以实现灵活的扩展。
  - 部署风险高：单体应用的部署通常是一次性完成的，任何问题都可能导致整个应用无法使用。
  - 发布影响范围大：每次发布都是单体应用的整体更新，可能会影响到所有用户。

## 微服务系统

微服务系统将应用程序拆分为多个小型、独立的服务，每个服务专注于特定的业务功能。每个微服务可以独立开发、部署和扩展，通常通过API或消息队列进行通信。

- 特点
  - 单一职责：每个节点都具有业务逻辑，符合高内聚、低耦合以及单一职责原则。
  - 轻量级通信：通过REST api模式或者RPC框架实现
  - 独立性：每个服务都是独立的业务单元，可以完成独立的开发、测试、部署、运维。
  - 进程隔离：不同的服务能够非常容易部署在不同的主机上
  - 混合部署方式：公有云、私有云、混合云
  - 治理简化：每个组件都可以独立管理

  ## 微服务的划分

  - 基于业务逻辑划分
    - 领域模型划分：服务于不同领域的子系统拆分为独立的微服务，如用户服务、订单服务等。
    - 用户角色划分：根据用户的不同角色和权限，将微服务划分为不同的模块，如管理员服务、普通用户服务等。
  - 基于扩展需求划分：不变的部分与常变的部分分离。
  - 基于可靠性划分
    - 核心模块单独划分
    - 主次链路划分
  - 基于性能需求划分
    - 高性能模块单独划分
    - 低性能模块单独划分
